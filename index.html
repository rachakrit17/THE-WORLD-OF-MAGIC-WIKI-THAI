
<!doctype html><html lang="th"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б тАФ IMO</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="assets/css/styles.css">
</head>
<body class="bg-dark text-light">
<div id="topnav"></div>

<header class="py-5 bg-hero">
  <div class="container text-center">
    <h1 class="display-5 fw-bold mb-2 glow-pulse" data-i18n="hero.title">тЬи р╕ир╕╣р╕Щр╕вр╣Мр╕гр╕зр╕бр╣Бр╕Яр╕Щр╣Ар╕Бр╕б The World of Magic</h1>
    <p class="lead opacity-75" data-i18n="hero.subtitle">р╕Рр╕▓р╕Щр╕Др╕зр╕▓р╕бр╕гр╕╣р╣Йр╕ар╕▓р╕йр╕▓р╣Др╕Чр╕в р╕Др╕гр╕Ър╕Чр╕▒р╣Йр╕Зр╣Др╕Бр╕Фр╣М р╕нр╕▓р╕Кр╕╡р╕Ю р╣Бр╕Ьр╕Щр╕Чр╕╡р╣И р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣М р╣Бр╕ер╕░р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕б</p>
    <div class="d-flex justify-content-center gap-2 mt-3">
      <a href="guides.html" class="btn btn-lg btn-neon tilt" data-i18n="hero.cta">р╣Ар╕гр╕┤р╣Ир╕бр╕кр╕│р╕гр╕зр╕И ЁЯЪА</a>
      <button id="btnSearch" class="btn btn-lg btn-outline-light tilt" data-i18n="nav.search">ЁЯФО р╕Др╣Йр╕Щр╕лр╕▓</button>
    </div>
  </div>
</header>

<main class="container my-5">
  <div class="row g-4">
    <div class="col-lg-8">
      <h2 class="h4 mb-3" data-i18n="home.latestGuides">ЁЯУМ р╣Др╕Бр╕Фр╣Мр╕ер╣Ир╕▓р╕кр╕╕р╕Ф</h2>
      <div id="homeGuides" class="row g-3"></div>
    </div>
    <div class="col-lg-4">
      <div class="neon p-3">
        <h3 class="h6" data-i18n="home.browseBy">ЁЯУБ р╕кр╕│р╕гр╕зр╕Ир╕Хр╕▓р╕бр╕лр╕бр╕зр╕Ф</h3>
        <div class="d-grid gap-2 mt-2">
          <a class="btn btn-outline-light" href="classes.html" data-i18n="nav.classes">ЁЯЫбя╕П р╕нр╕▓р╕Кр╕╡р╕Ю</a>
          <a class="btn btn-outline-light" href="maps.html" data-i18n="nav.maps">ЁЯЧ║я╕П р╣Бр╕Ьр╕Щр╕Чр╕╡р╣И</a>
          <a class="btn btn-outline-light" href="equipment.html" data-i18n="nav.equipment">тЪЩя╕П р╕нр╕╕р╕Ыр╕Бр╕гр╕Ур╣М</a>
          <a class="btn btn-outline-light" href="events.html" data-i18n="nav.events">ЁЯОЙ р╕нр╕╡р╣Ар╕зр╕Щр╕Хр╣М</a>
        </div>
      </div>
      <div class="neon p-3 mt-3">
        <h3 class="h6">ЁЯТб р╕Чр╕гр╕┤р╕Др╕зр╕▒р╕Щр╕Щр╕╡р╣Й</h3>
        <div id="tip" class="small opacity-75">р╕Бр╕Ф / р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Ыр╕┤р╕Фр╕Др╣Йр╕Щр╕лр╕▓р╣Ар╕гр╣Зр╕з ЁЯФО</div>
      </div>
    </div>
  </div>
  <section class="mt-4">
    <div class="neon p-3">
      <div id="featureSlider" class="overflow-hidden position-relative" style="height:180px">
        <div id="slides" class="d-flex" style="gap:12px; transition:transform .6s ease"></div>
      </div>
    </div>
  </section>
</main>

<div id="footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/i18next@23.11.5/dist/umd/i18next.min.js"></script>
<script src="assets/js/i18n.js"></script>
<script src="assets/js/firebase-init.js"></script>
<script src="assets/js/auth.js"></script>
<script src="assets/js/fx.js"></script>
<script src="assets/js/app.js"></script>
<script>
  window.renderShell && window.renderShell();
  window.enableTilt && window.enableTilt();

  // Load latest guides
  (async function(){
    const lang = i18next.language || 'th';
    const con = document.getElementById('homeGuides');
    const snap = await db.collection('guides').where('published','==', true).orderBy('updatedAt','desc').limit(6).get();
    con.innerHTML = snap.docs.map(d=>{
      const g = d.data();
      const title = (lang==='th' && g.title_th) ? g.title_th : (g.title_en||'');
      const img = g.image || '';
      const excerpt = (lang==='th' && g.content_th ? g.content_th : g.content_en || '').replace(/<[^>]+>/g,'').slice(0,120);
      return `<div class="col-md-6"><a href="guides.html#${g.slug}" class="card h-100 neon tilt link-light">
        ${img? `<img src="${img}" class="card-img-top" style="object-fit:cover;height:130px;border-bottom:1px solid rgba(255,255,255,.06)">`:''}
        <div class="card-body"><h3 class="h6 mb-2">ЁЯТл ${title}</h3><p class="small opacity-75">${excerpt}тАж</p></div></a></div>`;
    }).join('');
    window.enableTilt && window.enableTilt();
  })();

  // Simple slider from Events banners
  (async function(){
    const slides = document.getElementById('slides');
    const snap = await db.collection('events').where('published','==', true).orderBy('startsAt','desc').limit(6).get();
    const items = snap.docs.map(d=> d.data()).filter(x=>x.banner);
    slides.innerHTML = items.map(x=>`<img src="${x.banner}" alt="" class="rounded-3" style="height:150px;object-fit:cover">`).join('');
    let i = 0; setInterval(()=>{ if(items.length>1){ i=(i+1)%items.length; slides.style.transform = 'translateX('+(-i*162)+'px)'; } }, 2800);
  })();
</script>
</body></html>
